<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/b32c894376.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/ol@v7.4.0/dist/ol.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v7.4.0/ol.css">
    <link rel="stylesheet" href="/livestock/resources/CSS/index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@200&display=swap" rel="stylesheet">
    <title>lifestock</title>
</head>
<body>
    <div id="wrap">
        <header id="header">
                <nav class="navbar">
                    <div class="navbar_logo">
                        <i class="fa-solid fa-guarani-sign"></i>
                        <a th:href="@{/}">FRAM GUARD</a>
                    </div>

                    <ul class="navbar_menu">
                        <li><a class="underline" th:href="@{/}">HOME</a></li>
                        <li><a th:href="@{/livestockinfo}">가축 정보</a></li>
                        <li><a th:href="@{/calander}">캘린더</a></li>
              			<li><a th:href="@{/farming}">차량 출입 관리</a></li>
                        <li><a th:href="@{/board}">커뮤니티</a></li>
                        <button class = "binLogin-popup" sec:authorize="isAnonymous()"><a th:href="@{/login}">Login</a></button>
                        <button class = "binLogin-popup" sec:authorize="isAuthenticated()"><a th:href="@{/logout}">Logout</a></button>
                    </ul>
                    
                    <a href="#" class="navbar_toggleBtn">
                        <i class="fa-solid fa-bars"></i>
                    </a>
                </nav>
                <a href="#" class="navbar_toggleBtn">
                    <i class="fa-solid fa-bars"></i>
                </a>
            </nav>
        </header>
        <div class="topbar">
            <div class="logo">가축 전염병 현황</div>
        </div>
        <!-- <div class="sidebar">
            <ul>
                <li>
                    <a href="#">
                        <i class="fas fa-chart-line"></i>
                        <div>Dashboard</div>
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fa-solid fa-guarani-sign"></i>
                        <div>Farm Guard란?</div>
                    </a>
                </li>
            </ul>
        </div> -->
        <div class="main">
            <div class="cards">
                <div class="card">
                    <div class="card-content">
                        <div class="number">1749</div>
                        <div class="card-name">소</div>
                    </div>
                    <div class="icon-box">
                        <img src="/livestock/resources/IMG/cow.png" alt="">
                    </div>
                </div>
                <div class="card">
                    <div class="card-content">
                        <div class="number">18</div>
                        <div class="card-name">돼지</div>
                    </div>
                    <div class="icon-box">
                        <img src="/livestock/resources/IMG/pig.png" alt="">
                    </div>
                </div>
                <div class="card">
                    <div class="card-content">
                        <div class="number">47905</div>
                        <div class="card-name">닭</div>
                    </div>
                    <div class="icon-box">
                        <img src="/livestock/resources/IMG/chicken.png" alt="">
                    </div>
                </div>
                <div class="card">
                    <div class="card-content">
                        <div class="number">21550</div>
                        <div class="card-name">오리</div>
                    </div>
                    <div class="icon-box">
                        <img src="/livestock/resources/IMG/duck.png" alt="">
                    </div>
                </div>
            </div>
            <div class="charts">
                <div class="chart">
                    <h2>계절별 현황(2022년)</h2>
                    <canvas id="myChart"></canvas>
                </div>
                <div class="chart" id="doughnut-chart">
                    <h2>전체비율(기간 : 10년)</h2>
                    <div class="chart-container">
                        <canvas id="pie"></canvas>
                    </div>
                </div>
            </div>
            <div class="map_wrapper">
                <div id="map" class="map">
                        <h1>가축현황지도</h1>
                        <div class="icons">
                            <i class="fa-solid fa-circle"></i> : 소
                            <i class="fa-solid fa-circle"></i> : 돼지
                            <i class="fa-solid fa-circle"></i> : 닭
                            <i class="fa-solid fa-circle"></i> : 오리
                        </div>
                </div>
            </div>
        <footer id="footer">
            <div class="container">
                <div class="row">
                    <div class="footer">
                        <ul>
                            <li><a href="#">사이트 도움말</a></li>
                            <li><a href="#">사이트 이용약관</a></li>
                            <li><a href="#">사이트 운영원칙</a></li>
                            <li><a href="#"><strong>개인정보취급방침</strong></a></li>
                            <li><a href="#">책임의 한계와 법적고지</a></li>
                            <li><a href="#">게시중단요청서비스</a></li>
                            <li><a href="#">고객센터</a></li>
                        </ul>
                        <address>
                            Copyright &copy;
                            <a href="#"><strong>livestock</strong></a>
                            All Rights Reserved.
                        </address>
                    </div>
                </div>
            </div>
        </footer>
    
    </div>

    <!-- chart JS link -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js"></script>
    <script src="/livestock/resources/JS/chart1.js"></script>
    <script src="/livestock/resources/JS/chart2.js"></script>
    <script src="/livestock/resources/JS/map.js"></script>
    <script src="/JS/chart1.js"></script>
    <script src="/JS/chart2.js"></script>
    <script src="/JS/index.js"></script>
    <script>
    const toggleBtn = document.querySelector('.navbar_toggleBtn');
    const menu = document.querySelector('.navbar_menu');

    toggleBtn.addEventListener('click', () => {
        menu.classList.toggle('active');
    });


            var mapLayer = new ol.layer.Tile({
                source: new ol.source.OSM()
            });

            var map = new ol.Map({
                target: 'map',
                layers: [mapLayer],
                view: new ol.View({
                    center: ol.proj.fromLonLat([127.000, 35.717]), // 전라남도 및 전라북도 중심 좌표 설정
                    zoom: 7.5
                })
            });

            // 소: 블루 돼지 : 레드 닭: 오렌지 오리: 옐로우
            var markerData = [
                { coordinate: [126.949048, 35.981848], color: 'blue', opacity:0.6 },
                { coordinate: [126.651406, 35.551741], color: 'blue' }, 
                { coordinate: [126.820769, 35.697466], color: 'blue' },
                { coordinate: [126.681002, 35.851666], color: 'blue' },
                { coordinate: [126.810384, 35.663542], color: 'blue' },
                { coordinate: [126.810384, 35.663542], color: 'blue' },
                { coordinate: [126.916637, 35.634337], color: 'blue' },
                { coordinate: [126.996648, 35.841433], color: 'blue' },
                { coordinate: [127.344920, 35.824435], color: 'blue' },
                { coordinate: [127.725559, 35.693498], color: 'blue' },
                { coordinate: [127.827594, 35.697027], color: 'blue' },
                { coordinate: [127.327588, 35.347155], color: 'blue' },
                { coordinate: [127.344888, 35.823979], color: 'blue' },
                { coordinate: [127.129880, 35.459781], color: 'blue' },
                { coordinate: [127.300557, 35.659852], color: 'blue' },
                { coordinate: [126.919789, 35.638060], color: 'blue' },
                { coordinate: [126.919789, 35.638060], color: 'blue' },
                { coordinate: [126.892086, 35.634609], color: 'blue' },
                { coordinate: [127.173705, 36.072164], color: 'blue' },
                { coordinate: [127.929956, 35.603725], color: 'blue' },
                { coordinate: [126.870531, 35.698145], color: 'blue' },
                { coordinate: [127.270875, 35.660289], color: 'blue' },
                { coordinate: [126.781642, 35.813100], color: 'blue' },
                { coordinate: [126.781642, 35.813100], color: 'blue' },
                { coordinate: [126.862341, 35.706471], color: 'blue' },
                { coordinate: [126.977925, 36.013830], color: 'blue' },
                { coordinate: [127.125798, 34.748146], color: 'blue' },
                { coordinate: [127.021758, 34.697007], color: 'blue' },
                { coordinate: [127.088442, 34.785443], color: 'blue' },
                { coordinate: [127.088442, 34.785443], color: 'blue' },
                { coordinate: [126.933589, 34.726891], color: 'blue' },
                { coordinate: [126.907139, 34.696403], color: 'blue' },
                { coordinate: [127.145128, 34.762145], color: 'blue' },
                { coordinate: [126.400289, 35.197047], color: 'blue' },
                { coordinate: [127.199194, 34.775392], color: 'blue' },
                { coordinate: [127.199194, 34.775392], color: 'blue' },
                { coordinate: [126.461616, 34.990354], color: 'blue' },
                { coordinate: [126.745921, 34.993764], color: 'blue' },
                { coordinate: [127.024410, 34.699769], color: 'blue' },
                { coordinate: [127.574501, 34.791949], color: 'blue' },
                { coordinate: [127.068918, 34.744085], color: 'blue' },
                { coordinate: [127.627798, 34.722348], color: 'blue' },
                { coordinate: [126.488149, 35.120746], color: 'blue' },
                { coordinate: [126.472574, 35.034419], color: 'blue' },
                { coordinate: [126.591162, 35.202286], color: 'blue' },
                { coordinate: [127.103719, 35.273945], color: 'blue' },
                

                // 돼지
                { coordinate: [127.706981, 37.980841], color: 'red' },
                { coordinate: [127.210658, 37.980841], color: 'red' },
                { coordinate: [127.224911, 38.016508], color: 'red' },
                { coordinate: [127.177076, 38.006515], color: 'red' },
                { coordinate: [128.634529, 38.027234], color: 'red' },
                { coordinate: [126.592612, 37.715865], color: 'red' },
                { coordinate: [127.279341, 38.264901], color: 'red' },
                { coordinate: [127.197941, 38.103966], color: 'red' },
                { coordinate: [126.764465, 37.845892], color: 'red' },
                { coordinate: [126.642747, 37.770262], color: 'red' },
                { coordinate: [127.740489, 37.766012], color: 'red' },
                { coordinate: [127.797725, 37.751264], color: 'red' },
                { coordinate: [128.030626, 38.084725], color: 'red' },
                     

                // 닭

                { coordinate: [127.229455, 35.324125], color: 'orange' },
                { coordinate: [126.474708, 35.077821], color: 'orange' },
                { coordinate: [126.513727, 34.753912], color: 'orange' },
                { coordinate: [126.584764, 34.892232], color: 'orange' },
                { coordinate: [126.549651, 34.798209], color: 'orange' },
                { coordinate: [126.507408, 35.017809], color: 'orange' },
                { coordinate: [126.484330, 35.049810], color: 'orange' },
                { coordinate: [126.571701, 34.960341], color: 'orange' },
                { coordinate: [126.814986, 35.592403], color: 'orange' },
                { coordinate: [126.895579, 35.629445], color: 'orange' },
                { coordinate: [126.797055, 35.558635], color: 'orange' },
                { coordinate: [127.182460, 35.381335], color: 'orange' },

                //오리

                { coordinate: [126.766136, 35.584276], color: 'yellow' },
                { coordinate: [127.0087, 35.6654], color: 'yellow' },
                { coordinate: [126.912237, 34.724243], color: 'yellow' },
                { coordinate: [127.345507, 35.375741], color: 'yellow' },
                { coordinate: [126.479915, 35.468736], color: 'yellow' },
                { coordinate: [126.764989, 34.885649], color: 'yellow' },            
                { coordinate: [126.716835, 34.948711], color: 'yellow' },            
                { coordinate: [126.684567, 34.966221], color: 'yellow' },
                { coordinate: [127.091590, 34.733395], color: 'yellow' },
                { coordinate: [126.684375, 34.935504], color: 'yellow' },
                { coordinate: [126.726614, 34.964627], color: 'yellow' },
                { coordinate: [126.494911, 35.095583], color: 'yellow' },
                { coordinate: [126.545013, 34.395115], color: 'yellow' },
                { coordinate: [126.584357, 34.847114], color: 'yellow' },
                { coordinate: [126.426381, 34.875150], color: 'yellow' },
                { coordinate: [126.359730, 35.053545], color: 'yellow' },
                { coordinate: [127.160959, 35.248290], color: 'yellow' },
                { coordinate: [127.436804, 35.022738], color: 'yellow' },
                { coordinate: [126.558784, 34.893826], color: 'yellow' },
                { coordinate: [126.459718, 35.058231], color: 'yellow' },
                { coordinate: [126.577020, 34.925512], color: 'yellow' },
                { coordinate: [126.571760, 34.960479], color: 'yellow' },
                { coordinate: [127.369366, 34.801537], color: 'yellow' },
                { coordinate: [126.571800, 34.960259], color: 'yellow' },
                { coordinate: [126.911892, 34.723017], color: 'yellow' },

            ];

            var markerLayer = new ol.layer.Vector({
                source: new ol.source.Vector(),
            });

            markerData.forEach(function (marker) {
                var markerCoordinate = ol.proj.fromLonLat(marker.coordinate);

                var markerStyle = new ol.style.Style({
                    image: new ol.style.Circle({
                        radius: 6,
                        fill: new ol.style.Fill({
                            color: marker.color,
                        }),
                    }),
                });

                var markerFeature = new ol.Feature({
                    geometry: new ol.geom.Point(markerCoordinate)
                });

                markerFeature.setStyle(markerStyle);

                markerLayer.getSource().addFeature(markerFeature);
            });

            map.addLayer(markerLayer);
</script>

</body>

</html>